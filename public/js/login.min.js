function getCookie(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let t=0;t<n.length;t++){let i=n[t];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}window.addEventListener("load",function(){let t=document.getElementsByTagName("input");for(let e=t.length-1;e>=0;e--)t[e].nextElementSibling&&t[e].nextElementSibling.classList.contains("form-error")&&t[e].classList.add("invalid");let e=new Validation;fetch(`/asset/lang/${getCookie("lang")}.json`).then(t=>t.json()).then(t=>{e.trans=t,document.querySelector(".form").addEventListener("submit",function(t){t.preventDefault();let n=this.email.value,i=this.password.value;return e.isEmpty(n)?e.setError("empty email",this.email):e.isEmail(n)?e.isEmpty(i)?e.setError("empty password",this.password):e.pwdTooShort(i)?e.setError("invalid password",this.password):void this.submit():e.setError("invalid email",this.email)})}).catch(t=>console.error(t))}),document.addEventListener("input",function(t){let e=t.target.nextElementSibling;e.classList.contains("form-error")&&(e.style.setProperty("display","none"),t.target.classList.remove("invalid"))});