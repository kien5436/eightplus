function getCookie(t){let e=t+"=",s=decodeURIComponent(document.cookie).split(";");for(let t=0;t<s.length;t++){let i=s[t];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}window.addEventListener("load",function(){let t=document.getElementsByTagName("input");for(let e=t.length-1;e>=0;e--)t[e].nextElementSibling&&t[e].nextElementSibling.classList.contains("form-error")&&t[e].classList.add("invalid");let e=new Validation;fetch(`/asset/lang/${getCookie("lang")}.json`).then(t=>t.json()).then(t=>{e.trans=t,document.querySelector(".form").addEventListener("submit",function(t){t.preventDefault();let s=this.email&&this.email.value,i=this.newPassword&&this.newPassword.value,n=this.passwordConfirmation&&this.passwordConfirmation.value;return this.email&&e.isEmpty(s)?e.setError("empty email",this.email):this.email&&!e.isEmail(s)?e.setError("invalid email",this.email):this.newPassword&&e.isEmpty(i)?e.setError("empty password",this.newPassword):this.newPassword&&e.pwdTooShort(i)?e.setError("invalid password",this.newPassword):this.passwordConfirmation&&!e.samePwd(i,n)?e.setError("not same password",this.passwordConfirmation):void this.submit()})}).catch(t=>console.error(t))}),document.addEventListener("input",function(t){let e=t.target.nextElementSibling;e.classList.contains("form-error")&&(e.style.setProperty("display","none"),t.target.classList.remove("invalid"))});